<ion-header [translucent]="true">

  <ion-toolbar color="dailynote">

    <ion-buttons slot="start">

      <ion-menu-button></ion-menu-button>

    </ion-buttons>

    <ion-title>

      Météo

    </ion-title>
    <!--
    <ion-buttons slot="end">

      <ion-button>

        <ion-icon slot="icon-only" name="search"></ion-icon>

      </ion-button>

    </ion-buttons>
    -->


  </ion-toolbar>

</ion-header>

<ion-content>

  <ion-card>

    <ion-card-content>

      <ion-item>

        <ion-label>Ville: </ion-label>

        <ion-input type="text" [(ngModel)]="city"></ion-input>

        <ion-button (click)="onLoadWeather()" color="dailynote">OK</ion-button>

      </ion-item>

    </ion-card-content>

  </ion-card>
  <ion-card *ngIf="dataWeather">

    <ion-card-header>

      <ion-title class="ion-text-wrap">Résultat :</ion-title>

    </ion-card-header>

    <ion-card-content>

      <ion-item>
        <ion-label class="ion-text-wrap">Ville : <strong> {{dataWeather.name}} </strong></ion-label>
        <ion-label class="ion-text-wrap">Pays : <strong> {{dataWeather.sys.country}} </strong></ion-label>
      </ion-item>
      <ion-item>
        <ion-label class="ion-text-wrap">
          Date : <strong>{{dataWeather.dt*1000|date : 'dd/MM/yyyy - HH:mm'}}</strong>
        </ion-label>
      </ion-item>
      <ion-item class="myIconWeather">
       
        <ion-label class="ion-text-wrap ion-text-center"> <img src="assets/weather-icons/sunrise.png"><br><strong>
            {{dataWeather.sys.sunrise *1000|date : 'HH:mm'}} </strong></ion-label>
        <ion-label class="ion-text-wrap ion-text-center"> <img src="assets/weather-icons/sunset.png"> <br> <strong>
            {{dataWeather.sys.sunset *1000|date : 'HH:mm'}} </strong></ion-label>

      </ion-item>

      <ion-item lines="none">

        <!--https://openweathermap.org/weather-conditions How to get icon URL-->

       

        <ion-list>
           <ion-img src="http://openweathermap.org/img/wn/{{dataWeather.weather[0].icon}}@2x.png"></ion-img>
          <ion-item>

            <ion-label class="ion-text-wrap">

              Temp. : <strong>{{dataWeather.main.temp|number:'1.0-0'}}°C</strong>

            </ion-label>

          </ion-item>

          <ion-item>

            <ion-label class="ion-text-wrap">

              Temp. ressentie : <strong>{{dataWeather.main.feels_like|number:'1.0-0'}}°C</strong>

            </ion-label>

          </ion-item>

          <ion-item>

            <ion-label class="ion-text-wrap">

              Min : <strong>{{dataWeather.main.temp_min|number:'1.0-0'}}°C</strong>,

              Max : <strong>{{dataWeather.main.temp_max|number:'1.0-0'}}°C</strong>

            </ion-label>

          </ion-item>
          <ion-item>

            <ion-label class="ion-text-wrap">

              Hum : <strong>{{dataWeather.main.humidity|number:'0.0'}}%</strong>,

              Pre : <strong>{{dataWeather.main.pressure|number:'0.0'}}hPa</strong>

            </ion-label>

          </ion-item>

          <ion-item>

            <ion-label class="ion-text-wrap">
              <!--Convertir la vitesse du vente du m/sec en Km/h-->
              Vitesse du vent : <strong>{{dataWeather.wind.speed *3.6 |number:'1.0-0'}}Km/h</strong>
            </ion-label>

          </ion-item>

        </ion-list>

      </ion-item>

    </ion-card-content>

  </ion-card>

</ion-content>